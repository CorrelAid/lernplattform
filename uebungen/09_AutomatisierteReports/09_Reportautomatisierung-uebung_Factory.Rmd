---
title: "Beispieltitel"
author: "unbekannte:r Autor:in"
date: "18.11.2021"
output:
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# Notwendige Packages laden
pacman::p_load(
  glue,
  here,
  lubridate,
  rmarkdown,
  tidyverse
  )
```

<!-- Anleitung einf√ºgen -->

# Schritt 1: rmarkdown::render() Funktion

Rendert ein .Rmd deiner Wahl mit der `rmarkdown::render()` Funktion anstatt des üß∂ Knit-Buttons.
Ihr k√∂nnt daf√ºr dieses Dokument als Report-Factory benutzen, wo ihr den Code schreibt, der dann die Reports generiert. 

*\*Anmerkung: Falls du die render Funktion nachschlagen m√∂chstest, kannst du den Namen der Funktion entweder im Help-Abschnitt von R-Studio eingeben oder die Funktion um Script highlighten und dann F1 dr√ºcken. Ein weiterer Weg ist es `?render` in der Console auszuf√ºhren*

```{r}
# hier dein Code um einen Report mit rmarkdown::render() zu generieren
```





## generiere einen Report

```{r}
report_name <- "mein-report.Rmd"

report_name
```

### Szenario 1:

# Schritt x: Parameter setzen

<!-- Im Folgenden nutzen wir den bisher erstellten Report. In dieser √úbung geht es darum, Parameter in diesem Report zu definieren und in den Report einzuf√ºgen. Damit erreichen wir, dass wir bestimmte Verhaltensweisen durch die Parameter automatisiert ver√§ndern k√∂nnen, ohne im Dokument selbst etwas √§ndern zu m√ºssen. Denn daf√ºr haben wir die Parameter als Platzhalter dienen. -->

F√ºge einen neuen Parameter im YAML-Abschnitt


# Final Code aus Video

```{r define-input}
set_rmd_name <- "plastic_report.Rmd"

# Einzelteile des Output Namens
set_date <- lubridate::today()
set_author <- "LR"
set_report_name <- "Plastik-Report"
set_hl <- "Asia"

# Dokumentnamen bauen
output_file_name <- glue::glue("{set_date}_{set_report_name}_hl-{set_hl}")
```


# einen Report generieren
```{r}
rmarkdown::render(
  input = set_rmd_name,
  output_file = output_file_name,
  output_format = "html_document",
  params = list(highlight_continent = set_hl)
  )
```

# mehrere Reports generieren

Kontinente extrahieren
```{r}
continent_names <- plastics_prep %>% 
  dplyr::distinct(continent) %>% 
  dplyr::pull(continent)
```


```{r}
purrr::walk(
  .x = continent_names,
  .f = ~ rmarkdown::render(
    input = here::here(set_rmd_name),
    output_file = glue::glue("{set_date}_{set_report_name}_hl-{.x}"),
    output_format = "pdf_document",
    params = list(highlight_continent = .x)
  )
)
```